Reproduction case for https://github.com/hashicorp/terraform/issues/24970

## Background
Windows AWS EC2 instances can automatically generate a password for the Administrator account and associate it with EC2 instance metadata using the `get_password_data` argument on the `aws_instance` resource. AWS encrypts the password with the rsa private key identified by the `key_name` argument on the `aws_instance` resource. The `rsadecrypt` function was added to terraform to support decrypting this value in [PR #16647](https://github.com/hashicorp/terraform/pull/16647).

Note that all keys in this repository and generated passwords were generated for this exercise alone and are safe to be shared publicly. These are not confidential or used for anything else, and the infrastructure shown for this output has since been destroyed.

## Expected behavior
the rsadecrypt function should provide the plain-text representation of the password that was encrypted using the public key by AWS. When using the `ssh-keygen` command from Linux to generate this RSA key pair, this is successful. When using `ssh-keygen` from OS X 10.15.4, it is not successful.

## Actual behavior
When using an rsa key pair generated by OS X `ssh-keygen`, terraform exits with the following error:
```
Error: Error in function call

  on example.tf line 130, in output "password_decrypted":
 130:   value=rsadecrypt(aws_instance.windows2019.password_data, file("${path.module}/${var.rsa_private_key_file}") )
    |----------------
    | aws_instance.windows2019.password_data is "I91Vapc4zdkxopkh4l8hNY5O1TwE5NMwCV+GvbycR4HLMRQoLn5TV8+fdrSbu4NyWlu1rKbAEjP0LO+y1nf49D/5hB3jXtLu2ZH+bHKIBeYH9ojnqwp3qCkOdUkrebx58MWK2n1+26JsibpVcjiVG5oNBT8t4h/aSwMREzw6mGiO6PPNDSFp3xQsBVh5H8ymCg8pD6b0nvu/7jwizE+tXS4BANYehhJgIwPR6VytZT693Oz+TlOsEjJZ6wBQZaULJkDyumOo3Xr/pIBcEqPGkDucZLipjcup1Mi3zyoSSLtiRGFQpqT9tIXSTf/0gPpgu9nM6TsmpdyABWoaA0ZMVbpCAf6puwkYQUwfXdyCnXvloCUdQQzY3a/EO/HK1mj4psldacqRNj85QHFWXA20Foj2Pcle5OvUZh+uKEL2gAIxHwfOXZC1xoONvymUIYkA3wtZK2pUpQgcWVYf4AggrEPsqGxwMGfybvO79XM7a10sn6JhADVlsja0vpOK9881"
    | path.module is "."
    | var.rsa_private_key_file is "id_rsa_from_osx"

Call to function "rsadecrypt" failed: asn1: structure error: tags don't match
(16 vs {class:1 tag:15 length:112 isCompound:true}) {optional:false
explicit:false application:false private:false defaultValue:<nil> tag:<nil>
stringType:0 timeType:0 set:false omitEmpty:false} pkcs1PrivateKey @2.
```

## Reproduction

### keys
How the keys were generated:
```
ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/danieldreier/.ssh/id_rsa): /Users/danieldreier/ws/src/terraform-issue-reproductions/24970/id_rsa_from_osx
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /Users/danieldreier/ws/src/terraform-issue-reproductions/24970/id_rsa_from_osx.
Your public key has been saved in /Users/danieldreier/ws/src/terraform-issue-reproductions/24970/id_rsa_from_osx.pub.
```

```
docker run -ti centos:7.7.1908 bash
yum install -y openssh-7.4p1-21.el7.x86_64
ssh-keygen
```

## Reproduction on EC2 using Terraform
### Failure case
To trigger the failure mode using the OS X generated key, clone this git repository and run:
```
terraform init
terraform apply -auto-approve -var-file=failure-case.tfvars
data.aws_ami.os_windows: Refreshing state...
aws_vpc.tf24955-repro: Refreshing state... [id=vpc-0894faa3ede1099ac]
aws_internet_gateway.gw: Refreshing state... [id=igw-037d793b26062bf12]
aws_subnet.example: Refreshing state... [id=subnet-093201bac31d0b5b1]
aws_security_group.allow_ingress_rdp: Refreshing state... [id=sg-08261a5aabfe9b255]
aws_security_group.allow_egress: Refreshing state... [id=sg-05b9501567b628bb4]
aws_security_group.allow_ingress_ssh: Refreshing state... [id=sg-00736233f71192c25]
aws_key_pair.kms: Creating...
aws_key_pair.kms: Creation complete after 0s [id=instance_kms_key-tf-24970]
aws_instance.windows2019: Creating...
[snip]
aws_instance.windows2019: Creation complete after 1m48s [id=i-0fa40aba57f283efd]
aws_eip.instance_ip: Creating...
aws_eip.instance_ip: Creation complete after 2s [id=eipalloc-0845f88ad13129d81]

Error: Error in function call

  on example.tf line 130, in output "password_decrypted":
 130:   value=rsadecrypt(aws_instance.windows2019.password_data, file("${path.module}/${var.rsa_private_key_file}") )
    |----------------
    | aws_instance.windows2019.password_data is "I91Vapc4zdkxopkh4l8hNY5O1TwE5NMwCV+GvbycR4HLMRQoLn5TV8+fdrSbu4NyWlu1rKbAEjP0LO+y1nf49D/5hB3jXtLu2ZH+bHKIBeYH9ojnqwp3qCkOdUkrebx58MWK2n1+26JsibpVcjiVG5oNBT8t4h/aSwMREzw6mGiO6PPNDSFp3xQsBVh5H8ymCg8pD6b0nvu/7jwizE+tXS4BANYehhJgIwPR6VytZT693Oz+TlOsEjJZ6wBQZaULJkDyumOo3Xr/pIBcEqPGkDucZLipjcup1Mi3zyoSSLtiRGFQpqT9tIXSTf/0gPpgu9nM6TsmpdyABWoaA0ZMVbpCAf6puwkYQUwfXdyCnXvloCUdQQzY3a/EO/HK1mj4psldacqRNj85QHFWXA20Foj2Pcle5OvUZh+uKEL2gAIxHwfOXZC1xoONvymUIYkA3wtZK2pUpQgcWVYf4AggrEPsqGxwMGfybvO79XM7a10sn6JhADVlsja0vpOK9881"
    | path.module is "."
    | var.rsa_private_key_file is "id_rsa_from_osx"

Call to function "rsadecrypt" failed: asn1: structure error: tags don't match
(16 vs {class:1 tag:15 length:112 isCompound:true}) {optional:false
explicit:false application:false private:false defaultValue:<nil> tag:<nil>
stringType:0 timeType:0 set:false omitEmpty:false} pkcs1PrivateKey @2.

```
Note that to destroy it, you'll need to comment out the failing function or output block

### Success case
To trigger the success case and see how it should work using the linux-generated key, run
```
terraform apply -auto-approve -var-file=success-case.tfvars -no-color | tee success-output.log                                                            SIGINT(2) ↵  2362  14:36:01
data.aws_ami.os_windows: Refreshing state...
aws_key_pair.kms: Creating...
aws_vpc.tf24955-repro: Creating...
aws_key_pair.kms: Creation complete after 1s [id=instance_kms_key-tf-24970]
aws_vpc.tf24955-repro: Still creating... [10s elapsed]
aws_vpc.tf24955-repro: Creation complete after 13s [id=vpc-00ff3bca088241766]
aws_internet_gateway.gw: Creating...
aws_subnet.example: Creating...
aws_security_group.allow_ingress_rdp: Creating...
aws_security_group.allow_egress: Creating...
aws_security_group.allow_ingress_ssh: Creating...
aws_subnet.example: Creation complete after 7s [id=subnet-0f240b1d08953f906]
aws_internet_gateway.gw: Creation complete after 8s [id=igw-0d66e96c56583eb35]
aws_security_group.allow_ingress_rdp: Creation complete after 10s [id=sg-0c58d74cedae10ce7]
aws_security_group.allow_egress: Creation complete after 10s [id=sg-0d016d253ad41760b]
aws_security_group.allow_ingress_ssh: Creation complete after 10s [id=sg-0627b4dc049028d9d]
aws_instance.windows2019: Creating...
[snip]
aws_instance.windows2019: Creation complete after 1m43s [id=i-0d36e39cb562727c3]
aws_eip.instance_ip: Creating...
aws_eip.instance_ip: Creation complete after 1s [id=eipalloc-0831202b56d70f32b]

Apply complete! Resources: 9 added, 0 changed, 0 destroyed.

Outputs:

password_data = Z8O7djHwP39ACTP3U+gv9/BRFHcA/v2GNNw2jIzAjxACu7tK4xaWh/acRiq6458uo/f/OqhemkY1ppACdEQwnFj62DMgA1zFF0DbolaqDFcCP21d1mKAcR7Mn9eiAluVzz2g02mpMMc4QZgOqmPj9m3R6IxgJgAE7i1x/9Mh0tbw1l4QocHLTngEwWiCsg+kp5g4XxC/PSv8Ne4FloPR3oCW5ct/ewiV6psP9wuqp8ZSejaAOWTXfkpXfujhHxiHkjw1FO7+tM0auqushnLQDxs6uu843ch5Upwmr2BXG2FwVeTH4p0UcUYLrswSN/2twnczxFscXkdrYObmpqMghw==
password_decrypted = fPYUeTzngDo.;$HMvJpaNnzg8v=p=MDW
server-ip = 54.70.19.132
```

## Further exploration / research

Similar errors have been reported in
https://github.com/concourse/concourse/issues/2592 which linked to https://github.com/golang/go/issues/18634

According to [their discussion forum](https://discuss.concourse-ci.org/t/worker-key-generated-on-macos-doesnt-work/911)

 * ssh-keygen(1): write OpenSSH format private keys by default
    instead of using OpenSSL's PEM format. The OpenSSH format,
    supported in OpenSSH releases since 2014 and described in the
    PROTOCOL.key file in the source distribution, offers substantially
    better protection against offline password guessing and supports
    key comments in private keys. If necessary, it is possible to write
    old PEM-style keys by adding "-m PEM" to ssh-keygen's arguments
    when generating or updating a key.
